<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>L23: Manipolazione DOM</title>

    <style>
      div.prova {
        margin: 10px;
        padding: 30px;
        background-color: rgb(226, 226, 226);
      }

      .modificaStili {
        color: red;
        background-color: aquamarine;
        text-align: center;
        padding: 10px;
      }
    </style>
  </head>
  <body>
    <button id="bottone" class="prova">Bottone</button>
    <div class="prova"></div>
    <span class="prova"></span>

    <script>
      // 1. Window navigation e DOM
      // tramite browser API possiamo prendere:
      // document, window e e navigator!!!
      // DOM: struttura ad albero che descrive la gerarchia degli elementi del sito
      // costruito a partire dall'html
      // root node: html (tag padre di tutti)
      // sibilings: 2 tag children sullo stesso lvl
      // descendent: quando ci sono 2 o + lvl di separazione (figlio del figlio)

      // 2. Prendere elementi dal DOM
      let x = document.getElementById('bottone'); // prende l'elemento tramite l'id

      let y = document.querySelector('button'); // posso prendere ogni tipo di elemento
      let z = document.querySelector('#bottone'); // restituisce 1 solo elemento
      let k = document.querySelector('.prova'); // stessi selettori di css

      let w = document.querySelectorAll('.prova'); // restituisce tutti gli elementi con quel selettore
      console.log('w: ', w[0]);
      let j = document.getElementsByClassName('prova'); // tramite la classa
      // funzionamento simile a querySelectorAll()
      console.log('j: ', j[2]);

      // 3. Creare e aggiungere nuovi nodi
      const div = document.querySelector('div'); // prendo il div
      const paragrafo = document.createElement('p'); // creo il p
      paragrafo.textContent = 'Elemento creato dinamicamente.'; // metto testo in p
      div.appendChild(paragrafo); // appendo p dentro a div
      // aggiungere altro testo (nodo di testo)
      const extraTesto = document.createTextNode(
        'Altra parte di testo come node'
      );
      paragrafo.appendChild(extraTesto); // appendo il extratesto nel p

      // 4. Spostare o eliminare elementi
      // elemento appeso nel body dopo tutti gli altri  già presenti
      // document.body.appendChild(paragrafo);
      paragrafo.removeChild(extraTesto); // 1. rimuovo extratesto child da p parent
      extraTesto.remove(); // 2. rimuovo direttamente con il metodo sull'elemento

      // 5. Manipolare lo stile
      // valori fra ''
      // camelCase (backgroundColor, paddingTop...)
      // COMUNQUE meglio avere la classe come sotto
      // non riutilizzabile
      // paragrafo.style.color = 'red';
      // paragrafo.style.backgroundColor = 'yellow';
      // paragrafo.style.padding = '10px';
      // paragrafo.style.textAlign = 'center';

      // 6. Modifica degli attributi
      // EVITA lo style inline
      // riutilizzabile
      // si usa molto per gli errori
      // creo un attrivuto classe dal nome modificaStili
      // creo un attributo personalizzato data-value dal valore ciao
      // ATTRIBUTI PERSONALIZZATI: storano un valore a nostro piacimento
      // se il nome è diverso da quello di uno attributo standard
      // è automaticamente un attributo personalizzato
      paragrafo.setAttribute('class', 'modificaStili');
      paragrafo.setAttribute('data-value', 'ciao');
      console.log(paragrafo.getAttribute('data-value'));

      // NOTA:
      // Gli elementi possono essere
      // HARDCODATI: scritti a mano
      // DINAMICi (RUNTIME): si creano mentre il programma va
    </script>
  </body>
</html>

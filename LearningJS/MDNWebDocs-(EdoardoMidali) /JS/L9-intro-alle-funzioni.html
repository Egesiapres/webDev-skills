<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>L9: Introduzione alla funzioni</title>
  </head>
  <body>
    <button>Salutami</button>

    <script>
      // 1. Blocchi di codici riutilizzabili
      // set di istruzioni ripetuto ogni volta che viene invocato
      // function: keyword
      // function body (conteunto delle {}): blocks
      function cucinaPasta() {
        tiraFuoripentola;
        mettereAcqua;
        lasciareBollire;
        mettereSale;
        metterePasta;
        fareSugo;
        impiattate;
      }

      // 2. Funzioni del browser string.replace(), array.join(), Math.random()

      // anche questa è una funzione
      // date insieme al browser
      let u = 'Umberto';
      let e = u.replace('Umberto', 'Emma');
      console.log(e);

      // 3. Funzioni e metodi
      // METODI: funzioni di oggetti.
      // sintassi: oggetto.metodo(). Es: console.log(), Math.random()
      // FUNZIONI: al di fuori di oggetti e custom

      // 4. Invocare una funzione
      // metodo (predefinite)
      u.replace('Umberto', 'Piero');
      console.log(u);
      // custom
      function ciao() {
        console.log('ciao');
      }

      ciao(); // invocazione

      // 5. Funzioni ANONIME
      // no nome, chiamate in un altro modo
      // molto usate in eventi e callback
      // NO f anonima: dentro a const viene asseganatata alla variabile
      const myButton = document.querySelector('button');

      myButton.onclick = function () {
        // SI f anonima
        alert('hello');
      };

      // AGGIUNTA
      // FUNCTION EXPRESSIONS
      const calculateArea = function (width, height) {
        let area = width * height;
        return area;
      };

      calculateArea(7, 8); // invocare una function expression
      console.log(calculateArea(7, 8)); // Output: valore

      // 6. SCOPE
      // scope: accessibilità delle variabili
      // GLOBAL SCOPE (v globali): fuori dal block (contenuto delle {})
      let nome = 'Umberto';
      let eta = 25;
      // BLOCK SCOPE (v locali): dentro al block
      function prova() {
        let cognome = 'Pasinetti';
        console.log(`${nome} ${cognome} ha ${eta} anni`);
      }

      prova();

      console.log(nome);
      // console.log(cognome);
      // Output: cognome is not undefined (perché lo scope di cognome è prova())

      // 7. Innestare funzioni
      // 8. Parametri
      // parametro: ciò che sta dentro le ()
      // in questo caso name
      // la f si aspetta in entrata OGNI VOLTA il parametro name
      // name è come se fosse un segnaposto
      // (non deve corrispondere necessariamente a qualcosa)
      function hello(x) {
        console.log('hello', x);
      }

      hello(); // stampa undefined: non ho richiamato la funzione con il parametro
      hello(e); // funzione richiamata correttamente con il parametro

      function ciao() {
        let su = 'Pasinetti';
        let se = 'Franchino';
        console.log('ciao', su);
        hello(se); // funzioni innestate
        // ha il parametro in entrata
        // il parametro può essere solo locale
        // se prendo una variabile globale mi da errore ???
      }

      ciao(); // non parametro perché la f ciao() non ce l'ha
      // ciao(surname); // error

      // concatenazione di funzioni serve molto nelle tabelle
      // esempio di innesto
      function generaTabella() {
        generaHeader();
        generaRighe();
        generaFooter();
        console.log('Tabella generata');
      }

      function generaHeader() {
        console.log('Header generato');
      }

      function generaRighe() {
        console.log('Righe generate');
      }

      function generaFooter() {
        console.log('Footer generato');
      }

      generaTabella();

      // AGGIUNTA
      // ARROW FUNCTIONS
      // rimuovo la keyword function
      // inserisco direttamente la condizione () seguita da => e da ciò che eseguo {}
      const rectangleArea = (width, height) => {
        let area = width * height;
        return area;
      };

      // CONCISE BODY ARROW FUNCTIONS
      // sintassi basata sul numero di parametri
      const functionZeroParam = () => {}; // no, 0 parametri
      const functionOneParam = paramOne => {}; // 1 parametro (no ())
      const functionTwoParam = (paramOne, paramTwo) => {}; // >= 2 parametri
      // sintassi basata sul numero di linee
      const sumNumbers = number => number + number; // 1 linea (evito le {} e l'uso del return) (automatico)
      const subtractNumbers = number => { // linee multiple (uso sia {} che il return)
        let subtraction = number - number;
        return number; 
      }

      // single line es 2
      const plantNeedsWater = day => day === 'Wednesday' ? true : false;
    </script>
  </body>
</html>

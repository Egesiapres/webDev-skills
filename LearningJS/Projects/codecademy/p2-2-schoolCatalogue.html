<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>School Catalogue</title>
  </head>
  <body>
    <script>
      class School {
        // level with default values
        constructor(
          name,
          level,
          numberOfStudents,
          averageTestScores,
          schoolOverview
        ) {
          this._name = name;
          this._level = level;
          this._numberOfStudents = numberOfStudents;
          this._averageTestScores = averageTestScores;
          this._schoolOverview = schoolOverview;
        }

        get name() {
          return this._name;
        }
        get level() {
          return this._level;
        }
        get numberOfStudents() {
          return this._numberOfStudents;
        }
        get averageTestScores() {
          return this._averageTestScores;
        }
        get schoolOverview() {
          return this._schoolOverview;
        }

        set numberOfStudents(newNumberOfStudents) {
          typeof newNumberOfStudents == 'number'
            ? (this.numberOfStudents = newNumberOfStudents)
            : console.log(
                'Invalid input: numberOfStudents must be set to a Number.'
              );
        }

        quickFacts() {
          console.log(
            `${this.name} educates ${this.numberOfStudents} students at the ${this.level} school level.`
          );
        }

        static pickSubstituteTeacher(substituteTeacher) {
          const randomIndex = Math.floor(
            Math.random() * substituteTeacher.length
          );
          console.log(substituteTeacher[randomIndex]);
        }
      }

      class PrimarySchool extends School {
        // I'm not writing level once more because it has default values
        constructor(
          name,
          numberOfStudents,
          pickupPolicy,
          averageTestScores,
          schoolOverview
        ) {
          // I'm passing 'primary' because it's the level of the primary school default lavel value
          super(
            name,
            'primary',
            numberOfStudents,
            averageTestScores,
            schoolOverview
          );
          this._pickupPolicy = pickupPolicy;
        }

        get pickupPolicy() {
          return this._pickupPolicy;
        }
      }

      class MiddleSchool extends School {
        constructor(
          name,
          numberOfStudents,
          journeys,
          averageTestScores,
          schoolOverview
        ) {
          super(
            name,
            'middle',
            numberOfStudents,
            averageTestScores,
            schoolOverview
          );
          this._journeys = journeys;
        }
      }

      class HighSchool extends School {
        constructor(
          name,
          numberOfStudents,
          sportsTeams,
          averageTestScores,
          schoolOverview
        ) {
          super(
            name,
            'high',
            numberOfStudents,
            averageTestScores,
            schoolOverview
          );
          this._sportsTeams = sportsTeams;
        }

        get sportsTeams() {
          return this._sportsTeams;
        }
      }

      class SchoolCatalog {
        constructor(primarySchools, middleSchools, highSchools) {
          this._primarySchools = primarySchools;
          this._middleSchools = middleSchools;
          this._highSchools = highSchools;
        }

        get primarySchools() {
          return this._primarySchools;
        }
        get middleSchools() {
          return this._middleSchools;
        }
        get highSchools() {
          return this._highSchools;
        }
      }

      const lorraineHansbury = new PrimarySchool(
        'Lorraine Hansbury',
        514,
        'Students must be picked up by a parent, guardian, or a family member over the age of 13.',
        8,
        'One of the most prestigious primary schools in the country'
      );
      // not console.log(lorraineHansbury.quickFacts());
      // it outputs also 'undefined'
      lorraineHansbury.quickFacts();
      School.pickSubstituteTeacher([
        'Jamal Crawford',
        'Lou Williams',
        'J. R. Smith',
        'James Harden',
        'Jason Terry',
        'Manu Ginobli',
      ]);

      const vincenzoLechi = new PrimarySchool(
        'Vincenzo Lechi',
        300,
        'Students cannot leave the school by their own. They must be picked up by a relative that is at least 18.',
        7.5,
        'The primary school of Montirone.'
      );

      const donMilani = new MiddleSchool(
        'Don Milani',
        200,
        ['Auditorium di Milano'],
        7,
        'The middle school of Montirone.'
      );

      const alSmith = new HighSchool(
        'Al E. Smith',
        415,
        ['Baseball', 'Basketball', 'Volleyball', 'Track and Field'],
        7,
        'One of the most difficoult high school in the country'
      );
      console.log(alSmith.sportsTeams);

      const niccoloCopernico = new HighSchool(
        'Niccol√≤ Copernico',
        867,
        ['Soccer', 'Running', 'Volleyball'],
        8.5,
        'One of the best scientific high schools in Brescia.'
      );

      const firstCatalog = new SchoolCatalog(
        [lorraineHansbury, vincenzoLechi],
        [donMilani],
        [niccoloCopernico, alSmith]
      );
      console.log(firstCatalog);
      console.log(donMilani);
    </script>
  </body>
</html>
